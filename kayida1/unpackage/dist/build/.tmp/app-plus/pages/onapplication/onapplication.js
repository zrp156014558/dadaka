(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/onapplication/onapplication"],{"120e":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("2f62"),i=o(a("4dc3"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=function(){a.e("components/uni-popup/uni-popup").then(function(){return resolve(a("5814"))}.bind(null,a)).catch(a.oe)},c={components:{uniPopup:u},computed:s({},(0,n.mapState)(["userInfo"])),data:function(){return{applyPage:"",pitch:1,id:"",realname:"",realnameQ:"",card_num:"",card_numQ:"",mobile:"",mobileQ:"",apply_tips:"",type:"",loan:0,m:!1,text:"",asseinfo:"",query_code:""}},methods:{userAgreement:function(){e.navigateTo({url:"../userareement/userareement"})},changeIpt:function(){this.realname="",this.card_num="",this.mobile="",this.realnameQ="",this.card_numQ="",this.mobileQ=""},close:function(){this.$refs.popup.close()},submitA:function(){this.$refs.popup.open()},submitApplicationQ:function(){this.$refs.popup.close();var t=/^1[3456789]\d{9}$/;if(this.realnameQ.length<1)e.showToast({title:"法人姓名不能为空",icon:"none"});else if(18==this.card_numQ.length||15==this.card_numQ.length)if(t.test(this.mobileQ))if(1!==this.pitch)e.showToast({icon:"none",title:"请勾选用户注册协议"});else{var a={id:this.id,realname:this.realnameQ,card_num:this.card_numQ,mobile:this.mobileQ,user_id:this.userInfo.user_id,token:this.userInfo.token,sign:(0,i.default)(this.userInfo.user_id+this.userInfo.token)};this.request.httpRequest("api/loan6/apply",a,"GET").then((function(t){1e3===t.data.code?(e.showToast({title:"提交成功",icon:"none"}),e.navigateTo({url:"../applycard/applycard?url="+encodeURIComponent(JSON.stringify(t.data.retval))})):e.showToast({icon:"none",title:"提交失败，请重试"})}))}else e.showToast({title:"手机号格式不正确",icon:"none"});else e.showToast({title:"统一社会信用代码格式不正确",icon:"none"})},submitApplication:function(){this.$refs.popup.close();var t=/^1[3456789]\d{9}$/;if(this.realname.length<1)e.showToast({title:"姓名不能为空",icon:"none"});else if(18==this.card_num.length)if(t.test(this.mobile))if(1!==this.pitch)e.showToast({icon:"none",title:"请勾选用户注册协议"});else{var a={id:this.id,realname:this.realname,card_num:this.card_num,mobile:this.mobile,user_id:this.userInfo.user_id,token:this.userInfo.token,sign:(0,i.default)(this.userInfo.user_id+this.userInfo.token)};if("apply"===this.type){var n={asseinfo:this.asseinfo,query_code:this.query_code,id:this.id,realname:this.realname,card_num:this.card_num,mobile:this.mobile,user_id:this.userInfo.user_id,token:this.userInfo.token,sign:(0,i.default)(this.userInfo.user_id+this.userInfo.token)};this.request.httpRequest("api/card/apply",n,"GET").then((function(t){1e3===t.data.code?(e.showToast({title:"提交成功",icon:"none"}),e.navigateTo({url:"../applycard/applycard?url="+encodeURIComponent(JSON.stringify(t.data.retval))})):e.showToast({icon:"none",title:"提交失败，请重试"})}))}else if("loan"===this.type)if(0==this.loan)this.request.httpRequest("api/loan/apply",a,"GET").then((function(t){1e3===t.data.code?(e.showToast({title:"提交成功",icon:"none"}),e.navigateTo({url:"../applycard/applycard?url="+encodeURIComponent(JSON.stringify(t.data.retval))})):e.showToast({icon:"none",title:"提交失败，请重试"})}));else{var o=this.loan;this.request.httpRequest("api/loan".concat(o,"/apply"),a,"GET").then((function(t){1e3===t.data.code?(e.showToast({title:"提交成功",icon:"none"}),e.navigateTo({url:"../applycard/applycard?url="+encodeURIComponent(JSON.stringify(t.data.retval))})):e.showToast({icon:"none",title:"提交失败，请重试"})}))}else"credit"===this.type&&this.request.httpRequest("api/credit/apply",a,"GET").then((function(t){1e3===t.data.code?(e.showToast({title:"提交成功",icon:"none"}),e.navigateTo({url:"../applycard/applycard?url="+encodeURIComponent(JSON.stringify(t.data.retval))})):e.showToast({icon:"none",title:"提交失败，请重试"})}))}else e.showToast({title:"手机号格式不正确",icon:"none"});else e.showToast({title:"身份证格式不正确",icon:"none"})}},onLoad:function(e){var t=this;this.id=e.id,this.type=e.type,this.loan=e.loan;var a={id:e.id,user_id:this.userInfo.user_id,token:this.userInfo.token,sign:(0,i.default)(this.userInfo.user_id+this.userInfo.token)};if("apply"===this.type){var n={query_code:e.code,id:e.id,user_id:this.userInfo.user_id,token:this.userInfo.token,sign:(0,i.default)(this.userInfo.user_id+this.userInfo.token)};this.request.httpRequest("api/card/applyPage",n,"GET").then((function(a){t.applyPage=a.data.retval,t.apply_tips=a.data.retval.apply_tips,t.realname=a.data.retval.realname,t.card_num=a.data.retval.card_num,t.mobile=a.data.retval.mobile,t.asseinfo=a.data.retval.asseinfo,t.query_code=e.code,t.text=a.data.retval.prompt_1}))}else if("loan"===this.type){var o=e.loan;0==o?this.request.httpRequest("api/loan/applyPage",a,"GET").then((function(e){t.applyPage=e.data.retval,t.apply_tips=e.data.retval.apply_tips,t.realname=e.data.retval.realname,t.card_num=e.data.retval.card_num,t.mobile=e.data.retval.mobile,t.text=e.data.retval.prompt_1})):this.request.httpRequest("api/loan".concat(o,"/applyPage"),a,"GET").then((function(e){2==o?(t.realnameQ=e.data.retval.realname,t.card_numQ=e.data.retval.card_num,t.mobileQ=e.data.retval.mobile):(t.realname=e.data.retval.realname,t.card_num=e.data.retval.card_num,t.mobile=e.data.retval.mobile),t.applyPage=e.data.retval,t.apply_tips=e.data.retval.apply_tips,t.text=e.data.retval.prompt_1}))}else"credit"===this.type&&this.request.httpRequest("api/credit/applyPage",a,"GET").then((function(e){t.applyPage=e.data.retval,t.apply_tips=e.data.retval.apply_tips,t.realname=e.data.retval.realname,t.card_num=e.data.retval.card_num,t.mobile=e.data.retval.mobile,t.text=e.data.retval.prompt_1}))}};t.default=c}).call(this,a("6e42")["default"])},"32e4":function(e,t,a){"use strict";var n=a("a466"),i=a.n(n);i.a},"3ac3":function(e,t,a){"use strict";a.r(t);var n=a("120e"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"6c90":function(e,t,a){"use strict";var n={"uni-popup":function(){return a.e("components/uni-popup/uni-popup").then(a.bind(null,"5814"))}},i=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.pitch=1},e.e1=function(t){e.pitch=0})},o=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}))},"98f0":function(e,t,a){"use strict";(function(e){a("cb51"),a("921b");n(a("66fd"));var t=n(a("fdc4"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])},a466:function(e,t,a){},fdc4:function(e,t,a){"use strict";a.r(t);var n=a("6c90"),i=a("3ac3");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("32e4");var r,s=a("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"1c6be6cd",null,!1,n["a"],r);t["default"]=l.exports}},[["98f0","common/runtime","common/vendor"]]]);