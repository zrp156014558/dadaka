(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"3e58":function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},"4aa2":function(e,t,n){"use strict";(function(e){n("cb51"),n("921b");i(n("66fd"));var t=i(n("d489"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"63b1":function(e,t,n){"use strict";var i=n("74e0"),o=n.n(i);o.a},"74e0":function(e,t,n){},9567:function(e,t,n){"use strict";n.r(t);var i=n("e1ba"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},d489:function(e,t,n){"use strict";n.r(t);var i=n("3e58"),o=n("9567");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("63b1");var r,c=n("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"32833d7b",null,!1,i["a"],r);t["default"]=u.exports},e1ba:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){n.e("components/m-input").then(function(){return resolve(n("4c82"))}.bind(null,n)).catch(n.oe)},s={components:{mInput:u},data:function(){return{current:0,phone:"",auth:"",times:"",time:0,pwd:""}},methods:r({shortcut:function(){0!==this.current&&(this.current=0)},topwd:function(){1!==this.current&&(this.current=1)},toReg:function(){e.navigateTo({url:"../reg/reg"})},toForgetpwd:function(){e.navigateTo({url:"../forgetpwd/forgetpwd"})},loginGetAuth:function(){var t=this,n=this.phone,i=/^1[3456789]\d{9}$/;if(i.test(n)){var o={mobile:n,send_type:"login_confirm"};e.request({url:"http://www.zgkayida.com/api/sms/sendCode",data:o,header:{"content-type":"application/x-www-form-urlencoded;application/json;charset=UTF-8"},method:"POST",success:function(n){1e3===n.data.code&&(e.showToast({title:"发送成功",icon:"none"}),t.time=1,t.times=59,setInterval((function(){t.times--,t.times<1&&(t.time=2,clearInterval())}),1e3)),1e3!==n.data.code&&e.showToast({title:n.data.msg,icon:"none"})}})}else e.showToast({title:"手机号格式不正确",icon:"none"})},quickLogin:function(){var t=this,n=this.phone,i=this.auth,o={mobile:n,code:i};e.request({url:"http://www.zgkayida.com/api/user/quickLogin",data:o,header:{"content-type":"application/x-www-form-urlencoded;application/json;charset=UTF-8"},method:"POST",success:function(n){if(1e3!==n.data.code)e.showToast({title:n.data.msg,icon:"none"});else if(1e3===n.data.code){var i=n.data.retval;t.login(i),t.whetherbind(n.data.retval.is_bind),e.showToast({title:"登录成功",icon:"none"}),setTimeout((function(){e.switchTab({url:"../main/main"})}),1e3)}}})},pwdLogin:function(){var t=this,n=this.phone,o=this.pwd,a={mobile:n,password:o};e.request({url:"http://www.zgkayida.com/api/user/login",data:a,header:{"content-type":"application/x-www-form-urlencoded;application/json;charset=UTF-8"},method:"POST",success:function(n){if(1e3!==n.data.code)e.showToast({title:n.data.msg,icon:"none"});else if(1e3===n.data.code){var o=function(e,t){for(var n in t)e[n]=t[n];return e};i("log",n.data," at pages\\login\\login.vue:263");var r=o(n.data.retval,a);t.login(r),t.whetherbind(n.data.retval.is_bind),e.showToast({title:"登录成功",icon:"none"}),setTimeout((function(){e.switchTab({url:"../main/main"})}),1e3)}}})},weixinLogin:function(){e.getProvider({service:"oauth",success:function(t){~t.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(t){e.getUserInfo({provider:"weixin",success:function(t){var n=this,i={unionid:t.userInfo.unionId,openid:t.userInfo.openId,headimgurl:t.userInfo.avatarUrl,nickname:t.userInfo.nickName};this.request.httpRequest("api/user/wechatLogin",i,"POST").then((function(t){if(1e3!==t.data.code)e.showToast({title:t.data.msg,icon:"none"});else if(1e3===t.data.code){var o=function(e,t){for(var n in t)e[n]=t[n];return e},a=o(t.data.retval,i);n.login(a),n.whetherbind(t.data.retval.is_bind),e.showToast({title:"登录成功",icon:"none"}),setTimeout((function(){e.switchTab({url:"../main/main"})}),1e3)}}))}.bind(this)})}.bind(this)})}.bind(this)})}},(0,o.mapMutations)(["login","whetherbind"]),{userAgreement:function(){e.navigateTo({url:"../userareement/userareement"})}})};t.default=s}).call(this,n("6e42")["default"],n("0de9")["default"])}},[["4aa2","common/runtime","common/vendor"]]]);